{"resolvedId":"/home/edge/dev/js/private-cloud/src/routes/index.tsx?data","transforms":[{"name":"__load__","result":"import { useRouteData } from \"solid-start\";\nimport {\n  createServerAction$,\n  createServerData$,\n  redirect,\n} from \"solid-start/server\";\nimport { getUser, logout } from \"~/db/session\";\n\nexport function routeData() {\n  return createServerData$(async (_, { request }) => {\n    const user = await getUser(request);\n\n    if (!user) {\n      throw redirect(\"/login\");\n    }\n\n    return user;\n  });\n}\n\nexport default function Home() {\n  const user = useRouteData<typeof routeData>();\n  const [, { Form }] = createServerAction$((f: FormData, { request }) =>\n    logout(request)\n  );\n\n  return (\n    <main class=\"w-full p-4 space-y-2\">\n      <h1 class=\"font-bold text-3xl\">Hello {user()?.username}</h1>\n      <h3 class=\"font-bold text-xl\">Message board</h3>\n      <Form>\n        <button name=\"logout\" type=\"submit\">\n          Logout\n        </button>\n      </Form>\n    </main>\n  );\n}\n","start":1675681823078,"end":1675681823078},{"name":"solid-start-file-system-router","result":"import { createRouteData } from \"solid-start/data\";\nimport server$ from \"solid-start/server\";\nconst $$server_module0 = server$.createFetcher(\"/_m/src/routes/index.tsx/0/routeData\", true);\nexport function routeData() {\n  return createRouteData($$server_module0);\n}\nexport const _modHash = \"7vkdlD8umgyXFcrXDTzocIxuSCZbp9rWKKZf6zfO5tI=\";\nif (import.meta.hot) {\n  import.meta.hot.data.modHash = _modHash;\n  import.meta.hot.accept(newMod => {\n    import.meta.hot.data.modHash = _modHash;\n    if (import.meta.hot.data.modHash !== newMod._modHash) {\n      import.meta.hot.invalidate();\n    }\n  });\n}","start":1675681823078,"end":1675681823092,"order":"pre"},{"name":"solid","result":"import { shouldWarnAndDecline as _shouldWarnAndDecline } from \"solid-refresh\";\nimport { createRouteData } from \"solid-start/data\";\nimport server$ from \"solid-start/server\";\nconst $$server_module0 = server$.createFetcher(\"/_m/src/routes/index.tsx/0/routeData\", true);\nexport function routeData() {\n  return createRouteData($$server_module0);\n}\nexport const _modHash = \"7vkdlD8umgyXFcrXDTzocIxuSCZbp9rWKKZf6zfO5tI=\";\nif (import.meta.hot) {\n  import.meta.hot.data.modHash = _modHash;\n  import.meta.hot.accept(newMod => {\n    import.meta.hot.data.modHash = _modHash;\n    if (import.meta.hot.data.modHash !== newMod._modHash) {\n      import.meta.hot.invalidate();\n    }\n  });\n}\nif (_shouldWarnAndDecline()) if (import.meta.hot) import.meta.hot.decline();","start":1675681823092,"end":1675681823101,"order":"pre"},{"name":"vite:import-analysis","result":"import { createHotContext as __vite__createHotContext } from \"/@vite/client\";import.meta.hot = __vite__createHotContext(\"/src/routes/index.tsx?data\");import { shouldWarnAndDecline as _shouldWarnAndDecline } from \"/@solid-refresh\";\nimport { createRouteData } from \"/node_modules/solid-start/data/index.ts?v=2963516b\";\nimport server$ from \"/node_modules/solid-start/server/browser.ts?v=2963516b\";\nconst $$server_module0 = server$.createFetcher(\"/_m/src/routes/index.tsx/0/routeData\", true);\nexport function routeData() {\n  return createRouteData($$server_module0);\n}\nexport const _modHash = \"7vkdlD8umgyXFcrXDTzocIxuSCZbp9rWKKZf6zfO5tI=\";\nif (import.meta.hot) {\n  import.meta.hot.data.modHash = _modHash;\n  import.meta.hot.accept(newMod => {\n    import.meta.hot.data.modHash = _modHash;\n    if (import.meta.hot.data.modHash !== newMod._modHash) {\n      import.meta.hot.invalidate();\n    }\n  });\n}\nif (_shouldWarnAndDecline()) if (import.meta.hot) import.meta.hot.decline();","start":1675681823102,"end":1675681823105,"order":"normal"}]}
