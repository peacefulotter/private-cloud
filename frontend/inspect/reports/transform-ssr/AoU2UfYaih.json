{"resolvedId":"/home/edge/dev/js/private-cloud/src/routes/index.tsx","transforms":[{"name":"__load__","result":"import { useRouteData } from \"solid-start\";\nimport {\n  createServerAction$,\n  createServerData$,\n  redirect,\n} from \"solid-start/server\";\nimport { getUser, logout } from \"~/db/session\";\n\nexport function routeData() {\n  return createServerData$(async (_, { request }) => {\n    const user = await getUser(request);\n\n    if (!user) {\n      throw redirect(\"/login\");\n    }\n\n    return user;\n  });\n}\n\nexport default function Home() {\n  const user = useRouteData<typeof routeData>();\n  const [, { Form }] = createServerAction$((f: FormData, { request }) =>\n    logout(request)\n  );\n\n  return (\n    <main class=\"w-full p-4 space-y-2\">\n      <h1 class=\"font-bold text-3xl\">Hello {user()?.username}</h1>\n      <h3 class=\"font-bold text-xl\">Message board</h3>\n      <Form>\n        <button name=\"logout\" type=\"submit\">\n          Logout\n        </button>\n      </Form>\n    </main>\n  );\n}\n","start":1675684142282,"end":1675684142282},{"name":"solid-start-file-system-router","result":"import { createComponent as _$createComponent } from \"solid-js/web\";\nimport { ssr as _$ssr } from \"solid-js/web\";\nimport { escape as _$escape } from \"solid-js/web\";\nimport { ssrHydrationKey as _$ssrHydrationKey } from \"solid-js/web\";\nconst _tmpl$ = [\"<button\", \" name=\\\"logout\\\" type=\\\"submit\\\">Logout</button>\"],\n  _tmpl$2 = [\"<main\", \" class=\\\"w-full p-4 space-y-2\\\"><h1 class=\\\"font-bold text-3xl\\\">Hello <!--#-->\", \"<!--/--></h1><h3 class=\\\"font-bold text-xl\\\">Message board</h3><!--#-->\", \"<!--/--></main>\"];\nimport \"solid-start/data\";\nimport { createRouteAction } from \"solid-start/data\";\nimport server$ from \"solid-start/server\";\nimport { useRouteData } from \"solid-start\";\nimport { redirect } from \"solid-start/server\";\nimport { getUser, logout } from \"~/db/session\";\nconst $$server_module0 = server$.createHandler(async function $$serverHandler0(_, {\n  request\n}) {\n  const $$ctx = this;\n  const user = await getUser(request);\n  if (!user) {\n    throw redirect(\"/login\");\n  }\n  return user;\n}, \"/_m/src/routes/index.tsx/0/routeData\", true);\nserver$.registerHandler(\"/_m/src/routes/index.tsx/0/routeData\", $$server_module0);\nconst $$server_module1 = server$.createHandler(async function $$serverHandler1(f, {\n  request\n}) {\n  const $$ctx = this;\n  return logout(request);\n}, \"/_m/src/routes/index.tsx/1/fn\", true);\nserver$.registerHandler(\"/_m/src/routes/index.tsx/1/fn\", $$server_module1);\nexport default function Home() {\n  const user = useRouteData();\n  const [, {\n    Form\n  }] = createRouteAction($$server_module1);\n  return _$ssr(_tmpl$2, _$ssrHydrationKey(), _$escape(user()?.username), _$escape(_$createComponent(Form, {\n    get children() {\n      return _$ssr(_tmpl$, _$ssrHydrationKey());\n    }\n  })));\n}","start":1675684142282,"end":1675684142299,"order":"pre"},{"name":"solid","result":"import { createComponent as _$createComponent } from \"solid-js/web\";\nimport { ssr as _$ssr } from \"solid-js/web\";\nimport { escape as _$escape } from \"solid-js/web\";\nimport { ssrHydrationKey as _$ssrHydrationKey } from \"solid-js/web\";\nconst _tmpl$ = [\"<button\", \" name=\\\"logout\\\" type=\\\"submit\\\">Logout</button>\"],\n  _tmpl$2 = [\"<main\", \" class=\\\"w-full p-4 space-y-2\\\"><h1 class=\\\"font-bold text-3xl\\\">Hello <!--#-->\", \"<!--/--></h1><h3 class=\\\"font-bold text-xl\\\">Message board</h3><!--#-->\", \"<!--/--></main>\"];\nimport \"solid-start/data\";\nimport { createRouteAction } from \"solid-start/data\";\nimport server$ from \"solid-start/server\";\nimport { useRouteData } from \"solid-start\";\nimport { redirect } from \"solid-start/server\";\nimport { getUser, logout } from \"~/db/session\";\nconst $$server_module0 = server$.createHandler(async function $$serverHandler0(_, {\n  request\n}) {\n  const $$ctx = this;\n  const user = await getUser(request);\n  if (!user) {\n    throw redirect(\"/login\");\n  }\n  return user;\n}, \"/_m/src/routes/index.tsx/0/routeData\", true);\nserver$.registerHandler(\"/_m/src/routes/index.tsx/0/routeData\", $$server_module0);\nconst $$server_module1 = server$.createHandler(async function $$serverHandler1(f, {\n  request\n}) {\n  const $$ctx = this;\n  return logout(request);\n}, \"/_m/src/routes/index.tsx/1/fn\", true);\nserver$.registerHandler(\"/_m/src/routes/index.tsx/1/fn\", $$server_module1);\nexport default function Home() {\n  const user = useRouteData();\n  const [, {\n    Form\n  }] = createRouteAction($$server_module1);\n  return _$ssr(_tmpl$2, _$ssrHydrationKey(), _$escape(user()?.username), _$escape(_$createComponent(Form, {\n    get children() {\n      return _$ssr(_tmpl$, _$ssrHydrationKey());\n    }\n  })));\n}","start":1675684142299,"end":1675684142308,"order":"pre"},{"name":"vite:define","result":"import { createComponent as _$createComponent } from \"solid-js/web\";\nimport { ssr as _$ssr } from \"solid-js/web\";\nimport { escape as _$escape } from \"solid-js/web\";\nimport { ssrHydrationKey as _$ssrHydrationKey } from \"solid-js/web\";\nconst _tmpl$ = [\"<button\", \" name=\\\"logout\\\" type=\\\"submit\\\">Logout</button>\"],\n  _tmpl$2 = [\"<main\", \" class=\\\"w-full p-4 space-y-2\\\"><h1 class=\\\"font-bold text-3xl\\\">Hello <!--#-->\", \"<!--/--></h1><h3 class=\\\"font-bold text-xl\\\">Message board</h3><!--#-->\", \"<!--/--></main>\"];\nimport \"solid-start/data\";\nimport { createRouteAction } from \"solid-start/data\";\nimport server$ from \"solid-start/server\";\nimport { useRouteData } from \"solid-start\";\nimport { redirect } from \"solid-start/server\";\nimport { getUser, logout } from \"~/db/session\";\nconst $$server_module0 = server$.createHandler(async function $$serverHandler0(_, {\n  request\n}) {\n  const $$ctx = this;\n  const user = await getUser(request);\n  if (!user) {\n    throw redirect(\"/login\");\n  }\n  return user;\n}, \"/_m/src/routes/index.tsx/0/routeData\", true);\nserver$.registerHandler(\"/_m/src/routes/index.tsx/0/routeData\", $$server_module0);\nconst $$server_module1 = server$.createHandler(async function $$serverHandler1(f, {\n  request\n}) {\n  const $$ctx = this;\n  return logout(request);\n}, \"/_m/src/routes/index.tsx/1/fn\", true);\nserver$.registerHandler(\"/_m/src/routes/index.tsx/1/fn\", $$server_module1);\nexport default function Home() {\n  const user = useRouteData();\n  const [, {\n    Form\n  }] = createRouteAction($$server_module1);\n  return _$ssr(_tmpl$2, _$ssrHydrationKey(), _$escape(user()?.username), _$escape(_$createComponent(Form, {\n    get children() {\n      return _$ssr(_tmpl$, _$ssrHydrationKey());\n    }\n  })));\n}","start":1675684142308,"end":1675684142308,"order":"normal"},{"name":"vite:import-analysis","result":"import { createComponent as _$createComponent } from \"solid-js/web\";\nimport { ssr as _$ssr } from \"solid-js/web\";\nimport { escape as _$escape } from \"solid-js/web\";\nimport { ssrHydrationKey as _$ssrHydrationKey } from \"solid-js/web\";\nconst _tmpl$ = [\"<button\", \" name=\\\"logout\\\" type=\\\"submit\\\">Logout</button>\"],\n  _tmpl$2 = [\"<main\", \" class=\\\"w-full p-4 space-y-2\\\"><h1 class=\\\"font-bold text-3xl\\\">Hello <!--#-->\", \"<!--/--></h1><h3 class=\\\"font-bold text-xl\\\">Message board</h3><!--#-->\", \"<!--/--></main>\"];\nimport \"/node_modules/solid-start/data/index.ts\";\nimport { createRouteAction } from \"/node_modules/solid-start/data/index.ts\";\nimport server$ from \"/node_modules/solid-start/server/server.ts\";\nimport { useRouteData } from \"/node_modules/solid-start/index.tsx\";\nimport { redirect } from \"/node_modules/solid-start/server/server.ts\";\nimport { getUser, logout } from \"/src/db/session.ts\";\nconst $$server_module0 = server$.createHandler(async function $$serverHandler0(_, {\n  request\n}) {\n  const $$ctx = this;\n  const user = await getUser(request);\n  if (!user) {\n    throw redirect(\"/login\");\n  }\n  return user;\n}, \"/_m/src/routes/index.tsx/0/routeData\", true);\nserver$.registerHandler(\"/_m/src/routes/index.tsx/0/routeData\", $$server_module0);\nconst $$server_module1 = server$.createHandler(async function $$serverHandler1(f, {\n  request\n}) {\n  const $$ctx = this;\n  return logout(request);\n}, \"/_m/src/routes/index.tsx/1/fn\", true);\nserver$.registerHandler(\"/_m/src/routes/index.tsx/1/fn\", $$server_module1);\nexport default function Home() {\n  const user = useRouteData();\n  const [, {\n    Form\n  }] = createRouteAction($$server_module1);\n  return _$ssr(_tmpl$2, _$ssrHydrationKey(), _$escape(user()?.username), _$escape(_$createComponent(Form, {\n    get children() {\n      return _$ssr(_tmpl$, _$ssrHydrationKey());\n    }\n  })));\n}","start":1675684142309,"end":1675684142318,"order":"normal"}]}
